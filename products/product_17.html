<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>
    <link rel="stylesheet" href="../fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../home.css">

</head>

<body class="showCart">

    <!--************** SIDE BAR************ -->
    <div class="sidebar" id="sidebarr">
        <div class="close_btn">
             <img src="../dada.png" alt="">
             <span id="icon_btn" class="side_bar_search_icon" onclick='toggleSidebar()'>
                <img src="../icons/close-svgrepo-com.svg" alt="">
            </span>
        </div>

          <ul class="menu">

         <li class="list">
             <a href="../home.html">
                 <i class="side_bar_home_icon">
                    <img src="../icons/home-svgrepo-com (1).svg" alt="">
                 </i>
                 <span>Home</span>
             </a>
         </li>
         
         <li class="list">
             <a href="./collection.html">
                 <i class="side_bar_icon">
                    <img src="../icons/tags-category-categories-labels-svgrepo-com.svg" alt="">
                 </i>
                 <span>Collections</span>
             </a>
         </li>

         <li class="list">
             <a href="./men_clothes.html">
                 <i class="side_bar_cap_icon">
                    <img src="../icons/apparel-cap-clothing-svgrepo-com (1).svg" alt="">
                 </i>
                 <span>Men Clothes</span>
             </a>
         </li>

         <li class="list">
             <a href="../perfumes.html">
                 <i class="side_bar_icon">
                    <img src="../icons/perfume-svgrepo-com.svg" alt="">
                 </i>
                 <span>Perfumes</span>
             </a>
         </li>

         <li class="list">
             <a href="../electronics.html">
                 <i class="side_bar_icon">
                    <img src="../icons/kitchen-cooker-utensils-svgrepo-com.svg" alt="">
                 </i>
                 <span>kitchen Items</span>
             </a>
         </li>

      
         <li class="list">
               <a href="#">
                <div class="select" id="select">
                    <i class="side_bar_icon">
                        <img src="../icons/setting-material-svgrepo-com.svg" alt="">
                    </i>
                    <span >Setting</span>
               </div>
            </a>
         </li>

         </ul>
    </div>


     <div class="main-content">

        <!--********* HEADER SECTION ******-->

        <div class="header-wrapper">

            <div class="icon_box" >
               <span id="icon_btn" onclick='toggleSidebar()'>&#9776;</span>
            </div>

             <div class="header-tittle">
                <img src="../icons/shopease11.png" alt="">
             </div>

           <fieldset class="cart">
            
            <div class="add_to_chart" id="add_to_chart">
                <i id="shopping_cart" onclick="toggleCart()" >
                    <img src="../icons/cart-large-2-svgrepo-com (1).svg">
                </i>    
                <span>0</span>

             </div>

             <div class="favorite" id="favorite">
                <i id="favorite_cart" onclick="toggleFavorite()" >
                   <img src="../icons/favorite-filled-svgrepo-com.svg">
                </i>    
                <span>0</span>
            </div>

             <div class="user">
              <a href="">
                <img src="../icons/user-heart-svgrepo-com.svg"  onclick="addFavorite()">

              </a>
             </div>
           </fieldset>

        </div>

        <div class="product_container" id="product_id" data-id="1">
                <div class="product-info">
                    <div class="product_sample">
                        <div class="main-sample">
                            <img src="../images/mini projector.jpeg" alt="" id="main-image">
                        </div>
                    </div>

                       
                    <div class="small">
                        <h4 class="small-label">Choose Another Sample</h4>
                        <div class="pictures">
                            <img src="../images/mini projector.jpeg" class="other-image">
                            <img src="../images/projector1.jpeg"  class="other-image">
                            <img src="../images/projector2.jpeg"  class="other-image">                    
                    
                        </div>
                    </div>
                </div>
              

                <div class="sample_details">
                    <div class="product_details">
                        <h1 id="product_name">Mini Dser Projector</h1>
                        
                        <fieldset class="select-details1">
                            <h2><b>Price:</b> </h2>&nbsp; &nbsp;
                            <h2 id="money">NGN 75,913</h2>
                        </fieldset>
                        
                        <fieldset class="select-details1">
                            <h2><b>Size:</b> </h2>&nbsp; &nbsp;
                           <h2 id="size">Mini</h2>
                        </fieldset>

                        <fieldset class="select-details1">
                            <h2><b>Color:</b> </h2>&nbsp; &nbsp;
                           <h2 id="color">Black</h2>
                        </fieldset>
                        
        
                        <fieldset class="select-input-details">
                            <span id="numberError"></span>
                            <input type="number" placeholder="1" id="input" min="0">
                           <span class="holder">
                            <button id="addChart">Add to chart</button>
                            <img src="../icons/favorite-svgrepo-com (1).svg" id="addFavorite" style="width: 30px; cursor: pointer;" >
                            <img src="../icons/favorite-filled-svgrepo-com.svg" id="filledAddFavorite" style="width: 30px; cursor: pointer; display: none;" >
                           </span>
                        
                        </fieldset>

                        <h3 class="product-des">Product Details</h3>
                        <p class="product-des" id="product-des">
                            [Electric Focus] 5G WiFi Projector with Bluetooth, FunFlix G1 Mini Portable 1080P Projector,2024 Latest                         </p>
                    
                        
                    </div>
                </div>

                <!-- ************* FAVORITES*************** -->
                <div class="saved_products" id="saved_products">
                    <button  id="close_favorite" onclick=" closeFavorite()" style="background-color: rgb(24, 36, 58); padding: .5rem; border-radius: .2rem; color: #fff; cursor: pointer;">
                        <img src="../icons/close-svgrepo-com.svg" width="20px">
                    </button>

                    <div class="favorite_listCarts">
                    </div>
                          
                </div>


                <div class="payment_way" id="payment_way">
                    <div class="amount">
                        <button  id="close" onclick="closeCart()" style="background-color: rgb(24, 36, 58); padding: .5rem; border-radius: .2rem; color: #fff; cursor: pointer;">
                                <img src="../icons/close-svgrepo-com.svg" width="20px">
                        </button>
                        <h3 id="total_amount">&#8358;0.00</h3>
                    </div>

                    <div class="listCart">
                    </div>
                    
                    <div class="btnClass">
                        <button class="delete" id="delete_all_button" onclick="deleteAllProducts()">Delete All</button>
                        <button class="payAll" id="close" >Pay All</button>
                    </div>

                       
                </div>
        </div>

        <div class="shadowy" id="upperShadow">
           
            <div class="modaly" id="paymentModal">
                <div class="close_modal" onclick="closePayment()">
                    <img src="../icons/close-svgrepo-com.svg"  style="width:20px;">
                </div>
                <div class="pay_box">
                    
                    <div class="payment_card"> 
                        <div class="visa_icon">
                            <img src="../icons/mastercard-full-svgrepo-com.svg"style="width:80px;">
                        </div>
                        <div class="visa_icon">
                            <img src="../icons/visa-classic-svgrepo-com.svg" style="width:80px;">
                        </div>
                        <div class="visa_icon">
                            <img src="../icons/paypal-svgrepo-com.svg" style="width:80px;">
                        </div>
                    </div>
                    <div class="visa">
                        <div class="person_info">
                            <fieldset class="fname">
                                <input type="text" placeholder="First Name">
                            </fieldset>
                            <fieldset class="fname">
                                <input type="text" placeholder="Last Name">
                            </fieldset>
                            <fieldset class="fname">
                                <input type="text" placeholder="Email">
                            </fieldset>
                            <fieldset class="fname">
                                <input type="text" placeholder="Phone Number">
                            </fieldset>
                        </div>
                        <fieldset class="card_type">
                           <div class="visa_card">
                            <h4>Credit Card</h4>
                            <img src="../icons/visa-classic-svgrepo-com.svg"style="width:60px;">
                           </div>
                        </fieldset>
                        <h2>Card Details</h2>

                        <fieldset class="year">
                            <input type="date" placeholder="Expiry Date">
                            <input type="date" placeholder="CVV">
                        </fieldset>
                        <button class="card_button">Pay with Visa</button>
                    </div>

                </div>
            </div>
        </div>

        <div class="shadow" id="downShadow">
            <div class="modal" id="modal">
                <div class="close_modal" onclick="closeModal()">
                    <img src="../icons/close-svgrepo-com.svg"  style="width:20px;">
                </div>

                <div class="confirm_delivery">
                    <h2>Select Delivery Method</h2>
                    <div class="pickup">
                        <button type="radio">Pickup Station</button>
                        <P>FREE</P> <br>
                        <p>Delivery Between --- and ----</p>
                    </div>
                    <div class="pickup">
                        <label>Select Pickup Station</label>
                        <select id="pickup_station">
                            <option value=""></option>
                            <option>NATO</option>
                            <option>KTSTA</option>
                        </select>
                    </div>
                    <div class="pickup">
                        <button type="radio">Doo Delivery</button>
                        <P>FREE</P> <br>
                        <p>Delivery Between --- and ----</p>
                        
                    </div>
                    <button class="confirm_delivery_button" onclick="showPayment()">Confirm Delivery</button>
                </div>
            </div>
           </div>

        <footer id="footer">
            <div class="web-name"><h2>ShopEase</h2></div>
            <div class="web-info">
                <i class="fas- fa-globe">English</i>
                <h3>$ USD - &#8358; Naira</h3>
                <h3>Katsina State, Nigeria</h3>
            </div>

            <div class="login">
                <p>Already a customer ? <a href="">Sign in here</a></p>
            </div>
            <div class="terms-condtitions">
                <li> Condition of use</li>
                <li>About us</li>
                <li>Customer Care</li>
            </div>
            
            <div class="copyright">
                <p>&copy; 2024, ShopEase.com</p>
            </div>
        </footer>
 
    </div>

      
    <script>
        document.addEventListener('DOMContentLoaded', function () {
let favoriteItems = localStorage.getItem('favoriteItems') ? JSON.parse(localStorage.getItem('favoriteItems')) : [];

function updateFavoriteIcon() {
    const favoriteCount = document.getElementById('favorite').querySelector('span');
    let totalCounts = 0;

    favoriteItems.forEach(item => {
        totalCounts += item.quantity;
    });

    favoriteCount.textContent = totalCounts;
}

function addToFavorite(savedProducts) {
    const existingIndex = favoriteItems.findIndex(item =>
        item.name === savedProducts.name && item.Image === savedProducts.Image
    );

    if (existingIndex === -1) {
        favoriteItems.push(savedProducts);
        localStorage.setItem('favoriteItems', JSON.stringify(favoriteItems));
        updateFavoriteIcon();
    }
}

function renderFavoriteItems() {
    const favoriteContainer = document.querySelector('.favorite_listCarts');
    favoriteContainer.innerHTML = '';

    favoriteItems.forEach(item => {
        if (item.quantity > 0) {
            const productItem = document.createElement('div');
            productItem.classList.add('favorite_item');
            productItem.innerHTML = `
                <div class="favorite_image">
                    <img src="${item.Image}" alt="">
                </div>
                <div class="favorite_name">
                    ${item.name}
                </div>
                <div class="totalPrice">₦${item.totalPrice}</div>
                <span class="pay_favorite">
                    <img src="../icons/trash-list-alt-svgrepo-com.svg" class="deleteFavorite" style="width: 25px;">     
                    <a href="product_50.html"><button id="moveChart" >View Product</button></a>
                </span>
            `;

            productItem.querySelector('.deleteFavorite').addEventListener('click', function () {
                favoriteItems = favoriteItems.filter(favorite => 
                    favorite.name !== item.name || favorite.Image !== item.Image
                );

                localStorage.setItem('favoriteItems', JSON.stringify(favoriteItems));

                updateFavoriteIcon();
                renderFavoriteItems();
            });

            favoriteContainer.appendChild(productItem);
        }
    });
}

document.getElementById('addFavorite').addEventListener('click', function () {
    const product_id = document.querySelector('.product_container').getAttribute('data-id');
    const product = document.querySelector('#product_id');
    const details = document.querySelector('.sample_details');
    const sizeDropdown = document.getElementById("size");
    const selectedSize = sizeDropdown ? sizeDropdown.value : '';
    const savedProducts = {
        id: product_id,
        name: product.querySelector('#product_name').textContent,
        price: parseInt(details.querySelector('#money').textContent.replace(/\D/g, '')),
        Image: product.querySelector('#main-image').src,
        size: selectedSize,
        quantity: parseInt(details.querySelector('input').value) || 1,
        totalPrice: parseInt(details.querySelector('#money').textContent.replace(/\D/g, '')) * parseInt(details.querySelector('input').value) || parseInt(details.querySelector('#money').textContent.replace(/\D/g, ''))
    };

    addToFavorite(savedProducts);
});

updateFavoriteIcon();
renderFavoriteItems();
});

    </script>
    
         <script>

        document.addEventListener('DOMContentLoaded', function () {
            let cartItems = localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : [];
        
            function updateCartIcon() {
                const cartIcon = document.getElementById('shopping_cart');
                const cartCount = document.getElementById('add_to_chart').querySelector('span');
                let totalCount = 0;
        
                cartItems.forEach(item => {
                    totalCount += item.quantity;
                });
        
                cartCount.textContent = totalCount;
            }
        
        
            function addToPaymentWay(product_info) {
                const paymentWay = document.querySelector('.listCart');
        
                const existingIndex = cartItems.findIndex(item => 
                    item.name === product_info.name && item.size === product_info.size
                );
        
                if (existingIndex !== -1) {
                    cartItems[existingIndex].quantity += product_info.quantity;
                    cartItems[existingIndex].totalPrice += product_info.price * product_info.quantity;
                } else {
                    cartItems.push(product_info);
                }
        
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                updateCartIcon();
                renderCartItems();
            }
           
            function renderCartItems() {
            const paymentWay = document.querySelector('.listCart');
            paymentWay.innerHTML = '';
        
            let totalAmount = 0; // Initialize total amount
        
            cartItems.forEach(item => {
                if (item.quantity > 0) { // Only render items with quantity greater than 0
                    const productItem = document.createElement('div');
                    productItem.classList.add('items');
                    productItem.innerHTML = `
                        <div class="imagy">
                            <img src="${item.Image}" alt="">
                        </div>
                        <div class="namy">
                            ${item.name}
                        </div>
                        <div class="totalPrice">₦${item.totalPrice}
                        </div>
                        <div class="quantity">
                            <span class="decrease">-</span>
                            <span class="quantity_span" style="color:rgb(24, 36, 58); font-size:1.2rem; text-align:center;">${item.quantity}</span>
                            <span class="increase">+</span>
                        </div>
                       
                        <span class="pay">
                            <img src="../icons/trash-list-alt-svgrepo-com.svg" style="width: 20px;">
                            <img src="../icons/checkout-svgrepo-com.svg" style="width: 20px;" onclick="showModal()">
                            </span>
                    `;
        
                    totalAmount += item.totalPrice; // Add current item's total price to total amount
        
        
                    // productItem.querySelector('.pay').addEventListener('click', function () {
                      
                    // });
        
                    productItem.querySelector('.increase').addEventListener('click', function () {
                        item.quantity++; // Increase quantity
                        item.totalPrice = item.price * item.quantity; // Update total price
                        localStorage.setItem('cartItems', JSON.stringify(cartItems));
                        renderCartItems();
                        updateCartIcon();
                    });
        
                    productItem.querySelector('.decrease').addEventListener('click', function () {
                        if (item.quantity > 0) { // Ensure quantity doesn't go below 0
                            item.quantity--; // Decrease quantity
                            if (item.quantity === 0) {
                                const index = cartItems.indexOf(item);
                                cartItems.splice(index, 1); // Remove product if quantity is reduced to 0
                            }
                            item.totalPrice = item.price * item.quantity; // Update total price
                            localStorage.setItem('cartItems', JSON.stringify(cartItems));
                            renderCartItems();
                            updateCartIcon();
                        }
                    });
        
                    paymentWay.appendChild(productItem);
                }
            });
        
            // Update the total amount element with the calculated total amount
            const totalAmountElement = document.getElementById('total_amount');
            totalAmountElement.textContent = ` ₦${totalAmount.toFixed(2)}`;
        }
        
        document.getElementById('addChart').addEventListener('click', function () {
            const product_id = document.querySelector('.product_container').getAttribute('data-id');
            const product = document.querySelector('#product_id');
            const details = document.querySelector('.sample_details');
        
            const sizeDropdown = document.getElementById("size");
            const selectedSize = sizeDropdown ? sizeDropdown.value : '';
        
            const product_info = {
                id: product_id,
                name: product.querySelector('#product_name').textContent,
                price: parseInt(details.querySelector('#money').textContent.replace(/\D/g, '')),
                Image: product.querySelector('#main-image').src,
                size: selectedSize,
                quantity: parseInt(details.querySelector('input').value) || 1,
                totalPrice: parseInt(details.querySelector('#money').textContent.replace(/\D/g, '')) * parseInt(details.querySelector('input').value) || parseInt(details.querySelector('#money').textContent.replace(/\D/g, ''))
            };
        
            addToPaymentWay(product_info);
        });
        
            updateCartIcon();
            renderCartItems(); 
        
            function deleteAllProducts() {
            cartItems = []; 
            localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Update localStorage
            renderCartItems(); 
            updateCartIcon(); // Update the cart icon
        }
        
        // Add event listener to the delete all button
        document.getElementById('delete_all_button').addEventListener('click', deleteAllProducts);
        
        
        });
        
        
        </script>
 
        <script>

        var mainImage = document.getElementById("main-image");
                var otherImages = document.getElementsByClassName("other-image");
                var price = document.getElementById("money");
                var productName = document.getElementById("product_name");
                var sizeDropdown = document.getElementById("size");
                var productDes= document.getElementById("product-des");
                var sizes= document.getElementById("size");
                var color= document.getElementById("color");


                otherImages[0].onclick = function(){
                    mainImage.src = otherImages[0].src;
                    price.innerHTML = 'NGN 75,913';
                    productName.innerHTML = 'Mini Dser Projector';
                    sizes.innerHTML = 'Mini';
                    color.innerHTML = 'Black';
                    productDes.innerHTML = '[Electric Focus] 5G WiFi Projector with Bluetooth, FunFlix G1 Mini Portable 1080P Projector,2024 Latest ';
                }

                otherImages[1].onclick = function(){
                    mainImage.src = otherImages[1].src;
                    price.innerHTML = 'NGN 110,000';
                    productName.innerHTML = 'Meer Projector';
                    productDes.innerHTML = 'Meer Mini Projector,Portable Movie Projector,Smart Home Projector,Neat Projector';
                    sizes.innerHTML = 'Mini';
                    color.innerHTML = 'Black';
                }

                otherImages[2].onclick = function(){
                    mainImage.src = otherImages[2].src;
                    price.innerHTML = '&#8358;210,900';
                    productName.innerHTML = 'ARBIN Projector';
                    productDes.innerHTML = 'Mini Projector, Support 1080P Smart Portable Projector with 5G WiFi and Bluetooth, 10000 Lumen';
                    sizes.innerHTML = 'Mini';
                    color.innerHTML = 'White';
                }


        </script>

<script src="./modal.js"></script>
<script src="../home.js"></script>
</body>
</html>
